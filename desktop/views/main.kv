#:kivy 1.2.0
ScreenManager:
    id: screen_manager
    MainLayout:
    HomeScreen:
    EmissionScreen:


<HoverButton>:
    theme_text_color: "Custom"
    text_color: self.color_text
    font_size: "18sp"
    theme_icon_color: "Custom"
    icon_color: self.color_text
    line_color: 0,0,0,0 
    md_bg_color: 0,0,0,0


<MainLayout>:
    orientation: "horizontal"
    md_bg_color: 0,0,0,1
            
    # LEvé menu
    MDBoxLayout:
        orientation: "vertical"
        spacing: 15
        padding: [10, 20, 10, 20]
        # md_bg_color: 1, 1,1, 0.1
        radius: [5,]
        size_hint_x: 0.25
        size_hint_y: 0.98

        MDBoxLayout:
            orientation: "vertical"
            MDLabel:
                text: "Logo"
                halign: "center"
                size_hint_y: 0.1
            
            HoverButton:
                text: "Home"
                size_hint_x: 1
                on_release: app.root.ids.screen_manager.current = "Home"
                
            HoverButton:
                text: "Emission"
                size_hint_x: 1
                on_release: app.root.ids.screen_manager.current = "Emission"


            MDBoxLayout:
                size_hint_y: 1
    # Middle 
    MDBoxLayout:
        orientation: "vertical"
        # Top tab
        MDBoxLayout:
            orientation: "horizontal"
            size_hint_y: 0.1
            MDBoxLayout:
                size_hint_x: 0.32
            MDTextField:
                hint_text: "Stamps search"
                mode: "round"
                max_text_length: 15
                helper_text: "Helper text for fun"
                size_hint_x: 0.35
            MDBoxLayout:
                size_hint_x: 0.32

        MDBoxLayout:
            size_hint_y: 0.02

        # Pravá část s obrazovkami
        ScreenManager:
            id: screen_manager               
            HomeScreen:
                name: "Home"
            EmissionScreen:
                name: "Emission"
        
        MDBoxLayout:
            size_hint_y: 0.02
    # space for right side
    MDBoxLayout:
        size_hint_x: 0.02
    
    # Right panel for stamps:
    MDBoxLayout:
        id: right_panel
        orientation: "vertical"
        size_hint_x: 0  # Standardně skrytý nastavení je pak pod on release na .45
        size_hint_y: 0.92
        padding: 10
        MDBoxLayout:
            md_bg_color: 1, 1, 1, 1
            orientation: "vertical"
            padding: [10, 10, 10, 10]
            border_radius: 20
            radius: [15]
            md_bg_color: 1,1,1,0.08
            elevation: 4
            line_width: 1
            line_color: (1, 1, 1, 0.15)
            orientation: "vertical"
            spacing: 15

            # Informace o známce
            MDBoxLayout:
                size_hint: (1, 0.45)
                orientation: "vertical"
                spacing: 1
                FitImage:
                    id: right_panel_md3card_tamp_image
                    size_hint: (1, 0.8)
                    source: None
                    radius: [15, 15, 15, 15]
                    allow_stretch: True
                    keep_ratio: True
                    pos_hint: {"top":1}

                MDLabel:
                    id: stamp_name
                    text: "Stamp name"
                    halign: "left"
                    valign: "middle"
                    font_size: "18sp"
                    theme_text_color: "Custom"
                    text_color: 1,1,1,1
                    size_hint: 1, 0.1

                MDLabel:
                    text: "Tady budou detaily o známce."
                    text_size: self.size
                    halign: "left"
                    theme_text_color: "Custom"
                    text_color: 1,1,1,1
                    size_hint: 1, 0.2

            MDCard:
                size_hint: (1, 0.25)
                orientation: "vertical"
                border_radius: 20
                radius: [15]
                md_bg_color: 1,1,1,0.08
                elevation: 2
                line_width: 1
                line_color: (1, 1, 1, 0.15)
                MDLabel:
                    id: stamp_type_enum
                    text: "Počet pod typu"
                    halign: "center"
                    valign: "middle"
                    theme_text_color: "Custom"
                    text_color: 1,1,1,1
                    
                MDLabel:
                    id: stamp_type_enum
                    text: "Počet uložených prodeju v DB"
                    halign: "center"
                    valign: "middle"
                    theme_text_color: "Custom"
                    text_color: 1,1,1,1


<HomeScreen>:
    MDCard:
        size_hint: 1,1
        border_radius: 20
        radius: [15]
        md_bg_color: 1,1,1,0.08
        elevation: 4
        line_width: 1
        line_color: (1, 1, 1, 0.15)
        BoxLayout:
            orientation: "vertical"
            Label:
                text: "Home Screen pravá část"
                font_size: 24
                halign: "center"
                valign: "middle"

<EmissionScreen>:
    MDCard:
        size_hint: 1,1
        border_radius: 20
        radius: [15]
        md_bg_color: 1,1,1,0.08
        elevation: 4
        line_width: 1
        line_color: (1, 1, 1, 0.15)
        orientation: "vertical"
        # Výběr země
        MDBoxLayout:
            orientation: "horizontal"
            size_hint_y: None
            
            MDLabel:
                text: "Select Country:"
                size_hint_x: 0.3
                halign: "center"
                theme_text_color: "Custom"
                text_color: 1,1,1,1

            MDDropDownItem:
                id: country_dropdown
                text: "Choose a country"
                pos_hint: {"center_x": 0.5, "center_y": 0.5}
                text_color: 1,1,1,1
                on_release: root.show_countries_dropdown(self)
                ver_growth: "down"
                md_bg_color: 1,1,1,1
                theme_text_color: "Custom"
                text_color: 1,1,1,1

        # Seznam výsledků
        ScrollView:
            MDBoxLayout:
                id: results_box
                orientation: "vertical"
                adaptive_height: True         
